<!doctype html>
<html amp lang="{{doc.locale}}">
  <head>
    <meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    {% if podspec.meta.google_site_verification %}
    <meta name="google-site-verification" content="{{podspec.meta.google_site_verification}}">
    {% endif %}
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, height=device-height">
    <title>{% if doc.title %}{{doc.title}} – {% endif %}{{podspec.title}}</title>
    {% if podspec.meta.image %}
      <meta property="og:image" content="{{g.static(podspec.meta.image).url}}">
    {% endif %}
    <meta property="og:title" content="{% if doc.title %}{{doc.title}} – {% endif %}{{podspec.title}}">
    <meta property="og:site_name" content="{{podspec.title}}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{doc.url}}">
    {% if doc.description %}
    <meta name="description" content="{{doc.description}}">
    <meta property="og:description" content="{{doc.description}}">
    {% endif %}
    {% if podspec.meta.favicon_path %}
    <link rel="shortcut icon" href="{{g.static(podspec.meta.favicon_path).url.path}}">
    {% endif %}<link rel="canonical" href="{{doc.url}}">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans&family=Ubuntu+Mono:wght@700&display=swap" rel="stylesheet">
    <style amp-custom>
    {% include "/dist/css/composite/base.min.css" %}
    </style>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>

    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script async custom-element="amp-bind" src="https://cdn.ampproject.org/v0/amp-bind-0.1.js"></script>
  </head>

  <body [class]="scheme.class">
    <amp-state id="scheme">
      <script type="application/json">
        {
          "class": "light"
        }
      </script>
    </amp-state>
    <button class="scheme-btn btn round dark" on="tap:AMP.setState({scheme: {class: 'light'}})"></button>
    <button class="scheme-btn btn round light" on="tap:AMP.setState({scheme: {class: 'dark'}})"></button>
    {% include "/partials/header/header.html" %}
    <div class="wrapper">
      {% block main %}
        {% if doc.partials %}
          {% for field in doc.partials %}
            {% if not field.partial %}
              {% continue %}
            {% endif %}

            {# Render the partial with the values in {{partial}}. #}
            {% set partial_filename = field.partial|expand_partial %}
            {% with partial = field %}
              {% include partial_filename with context %}
            {% endwith %}
          {% endfor %}
        {% else %}
          {{doc.formatted|safe}}
        {% endif %}
      {% endblock %}
    </div>
    {% include "/partials/footer/footer.html" %}

    {% if podspec.meta.google_analytics_id %}
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', '{{podspec.meta.google_analytics_id}}', 'auto');
        ga('send', 'pageview');
      </script>
    {% endif %}
  </body>
</html>
